<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="Template.html"
>
<head>
    <!-- Required meta tags  -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="webjars/bootstrap/5.3.3/css/bootstrap.min.css">
    <title>Job Listings List</title>
</head>
<body>
<div layout:fragment="content">
<main>
    <div>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">COMPANY</th>
                    <th scope="col">DATE POSTED</th>
                    <th scope="col">DESCRIPTION</th>
                    <th scope="col">JOB TITLE</th>
                    <th scope="col">SALARY</th>
                    <th scope="col">JOB CATEGORY</th>
                    <th scope="col">JOB POSTER</th>
                    <th scope="col">JOB TYPE</th>
                    <th class="align-items-sm-end" th:if="${#authorization.expression('hasRole(''ADMIN'') or hasRole(''JOBPOSTER'')')}">
                        <div class="text-dark-emphasis">
                            ACTIONS
                        </div>
                    </th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="jobListing:${JobListings.content}">
                        <td th:text="${jobListing.id}"></td>
                        <td th:text="${jobListing.jobTitle}"></td>
                        <td th:text="${jobListing.company}"> </td>
                        <td th:text="${jobListing.description}"></td>
                        <td th:text="${jobListing.salary}"></td>
                        <td th:text="${jobListing.jobType}"></td>
                        <td th:text="${jobListing.datePosted}"></td>
                        <td th:text="${jobListing.jobPoster.firstName}+ ' ' + ${jobListing.jobPoster.lastName}"></td>
                        <td th:text="${jobListing.category.name}"></td>

                        <td th:if="${#authorization.expression('hasRole(''ADMIN'') or hasRole(''JOBPOSTER'')')}">
                            <a th:onclick="'return confirm(\'Are you sure to delete this JobListing?\')'" th:href="@{'deleteJobListing?id='+${jobListing.id}}">
                                Delete
                            </a>
                            <a th:href="@{'editJobListing?id='+${jobListing.id}}">
                                Edit
                            </a>
                        </td>

                    </tr>
                </tbody>
            </table>
        <ul class="nav nav-pills">
            <li th:each="page, status:${pages}">
                <a th:class="${status.index == currentPage?'btn btn-primary':'btn'}"
                   th:href="@{JobListingsList(page=${status.index}, size=${size})}"
                   th:text="${status.index}"
                ></a>
            </li>
        </ul>
        </div>

</main>
</div>
<!-- Footer -->
<!--<footer class="text-center text-lg-start bg-body-tertiary text-muted">-->
<!--    &lt;!&ndash; Section: Social media &ndash;&gt;-->
<!--    <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">-->
<!--        &lt;!&ndash; Left &ndash;&gt;-->
<!--        <div class="me-5 d-none d-lg-block">-->
<!--            <a th:href="@{createJobListing}">Job Listing Creation</a>-->
<!--        </div>-->
<!--        &lt;!&ndash; Left &ndash;&gt;-->

<!--    </section>-->
<!--    &lt;!&ndash; Section: Social media &ndash;&gt;-->

<!--    &lt;!&ndash; Section: Links  &ndash;&gt;-->
<!--    <section class="">-->
<!--        <div class="container text-center text-md-start mt-5">-->
<!--            &lt;!&ndash; Grid row &ndash;&gt;-->
<!--            <div class="row mt-3">-->
<!--                &lt;!&ndash; Grid column &ndash;&gt;-->
<!--                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">-->
<!--                    &lt;!&ndash; Content &ndash;&gt;-->
<!--                    <h6 class="text-uppercase fw-bold mb-4">-->
<!--                        <i class="fas fa-gem me-3"></i>Company name-->
<!--                    </h6>-->
<!--                    <p>-->
<!--                        Here you can use rows and columns to organize your footer content. Lorem ipsum-->
<!--                        dolor sit amet, consectetur adipisicing elit.-->
<!--                    </p>-->
<!--                </div>-->
<!--                &lt;!&ndash; Grid column &ndash;&gt;-->

<!--                &lt;!&ndash; Grid column &ndash;&gt;-->
<!--                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">-->
<!--                    &lt;!&ndash; Links &ndash;&gt;-->
<!--                    <h6 class="text-uppercase fw-bold mb-4">-->
<!--                        Products-->
<!--                    </h6>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Angular</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">React</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Vue</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Laravel</a>-->
<!--                    </p>-->
<!--                </div>-->
<!--                &lt;!&ndash; Grid column &ndash;&gt;-->

<!--                &lt;!&ndash; Grid column &ndash;&gt;-->
<!--                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">-->
<!--                    &lt;!&ndash; Links &ndash;&gt;-->
<!--                    <h6 class="text-uppercase fw-bold mb-4">-->
<!--                        Useful links-->
<!--                    </h6>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Pricing</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Settings</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Orders</a>-->
<!--                    </p>-->
<!--                    <p>-->
<!--                        <a href="#!" class="text-reset">Help</a>-->
<!--                    </p>-->
<!--                </div>-->
<!--                &lt;!&ndash; Grid column &ndash;&gt;-->

<!--                &lt;!&ndash; Grid column &ndash;&gt;-->
<!--                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">-->
<!--                    &lt;!&ndash; Links &ndash;&gt;-->
<!--                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>-->
<!--                    <p><i class="fas fa-home me-3"></i> New York, NY 10012, US</p>-->
<!--                    <p>-->
<!--                        <i class="fas fa-envelope me-3"></i>-->
<!--                        info@example.com-->
<!--                    </p>-->
<!--                    <p><i class="fas fa-phone me-3"></i> + 01 234 567 88</p>-->
<!--                    <p><i class="fas fa-print me-3"></i> + 01 234 567 89</p>-->
<!--                </div>-->
<!--                &lt;!&ndash; Grid column &ndash;&gt;-->
<!--            </div>-->
<!--            &lt;!&ndash; Grid row &ndash;&gt;-->
<!--        </div>-->
<!--    </section>-->
<!--    &lt;!&ndash; Section: Links  &ndash;&gt;-->

<!--    &lt;!&ndash; Copyright &ndash;&gt;-->
<!--    <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">-->
<!--        Â© 2021 Copyright:-->
<!--        <a class="text-reset fw-bold" href="https://mdbootstrap.com/">MDBootstrap.com</a>-->
<!--    </div>-->
<!--    &lt;!&ndash; Copyright &ndash;&gt;-->
<!--</footer>-->
<!-- Footer -->
</body>
</html>

